const machine=document.querySelector("#machine"),cashin=document.querySelector("#cashin"),casinoid=document.querySelector("#casinoid"),token=document.querySelector("#token");async function lastAccountant(n){const e=`${window.location.protocol}//${window.location.hostname}/accountants/lastvalue?machineid=${n}`,o=await fetch(e),t=await o.json();if("error"!=t){let n=parseInt(t[0].cashin);cashin.addEventListener("focusout",e=>{parseInt(e.target.value)<n&&Swal.fire({title:"Parece que tienes un Borrado",text:"Verifica los datos ingresados y vuelve a intentarlo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, tengo un borrado",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&window.location.replace(`${window.location.protocol}//${window.location.hostname}/erases/add?token=${token.value}&casinoId=${casinoid.value}&machineId=${t[0].machine_id}`)})})}}machine.addEventListener("change",n=>{lastAccountant(n.target.value)});