const machine=document.querySelector("#machine"),cashin=document.querySelector("#cashin"),casinoid=document.querySelector("#casinoid"),token=document.querySelector("#token"),erase=document.querySelector("#erase");async function generateErase(){Swal.fire({title:"Advertencia!",text:"Esta accion solo es permitida si se tienen Borrados. Los datos ingresados aqui no se podran cambiar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&Swal.fire(window.location.replace(`${window.location.protocol}//${window.location.hostname}/erases/add?token=${token.value}&casinoId=${casinoid.value}`))})}async function lastAccountant(e){const n=`${window.location.protocol}//${window.location.hostname}/accountants/lastvalue?machineid=${e}`,o=await fetch(n),t=await o.json();if("error"!=t){let e=parseInt(t[0].cashin);cashin.addEventListener("focusout",n=>{parseInt(n.target.value)<e&&Swal.fire({title:"Parece que tienes un Borrado",text:"Verifica los datos ingresados y vuelve a intentarlo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, tengo un borrado",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&window.location.replace(`${window.location.protocol}//${window.location.hostname}/erases/add?token=${token.value}&casinoId=${casinoid.value}&machineId=${t[0].machine_id}`)})})}}machine.addEventListener("change",e=>{lastAccountant(e.target.value)}),erase.addEventListener("click",e=>{e.preventDefault(),generateErase()});