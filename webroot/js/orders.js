const generate=document.querySelector("#generate"),quote_id=document.querySelector("#quote_id"),client_id=document.querySelector("#client_id"),user=document.querySelector("#user"),machine=document.querySelector("#machine"),x2max=document.querySelector("#x2max"),x3max=document.querySelector("#x3max"),x6max=document.querySelector("#x6max"),x7max=document.querySelector("#x7max"),x9max=document.querySelector("#x9max"),x12max=document.querySelector("#x12max"),x18max=document.querySelector("#x18max"),x36max=document.querySelector("#x36max"),exteriormax=document.querySelector("#exteriormax"),interiormax=document.querySelector("#interiormax"),totalmax=document.querySelector("#totalmax"),x2min=document.querySelector("#x2min"),x3min=document.querySelector("#x3min"),x6min=document.querySelector("#x6min"),x7min=document.querySelector("#x7min"),x9min=document.querySelector("#x9min"),x12min=document.querySelector("#x12min"),x18min=document.querySelector("#x18min"),x36min=document.querySelector("#x36min"),exteriormin=document.querySelector("#exteriormin"),interiormin=document.querySelector("#interiormin"),totalmin=document.querySelector("#totalmin"),limitmax=document.querySelector("#limitmax"),apuestamin=document.querySelector("#apuestamin"),fecuenciafin=document.querySelector("#fecuenciafin"),frecuenciaini=document.querySelector("#frecuenciaini"),hiddenper=document.querySelector("#hiddenper"),apuestaper=document.querySelector("#apuestaper"),timeapuesta=document.querySelector("#timeapuesta"),contrasoplado=document.querySelector("#contrasoplado"),soplado=document.querySelector("#soplado");async function generateOrder(){Swal.fire({title:"Confirmar Datos",text:"Estas seguro de Guardar la orden, no se podra cambiar la orden de trabajo",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&Swal.fire("Orden Creada!",`La orden de trabajo # ${quote_id.value} Ha sido Generada con exito`,"success").then(e=>{e.isConfirmed&&createOrder()})})}async function createOrder(){const e=new FormData;e.append("order_id",quote_id.value),e.append("quote_id",quote_id.value),e.append("user_id",user.value),e.append("client_id",client_id.value),e.append("orderstatus_id",2),e.append("comments",""),e.append("machine_id",machine.value),e.append("x2max",x2max.value),e.append("x3max",x3max.value),e.append("x6max",x6max.value),e.append("x7max",x7max.value),e.append("x9max",x9max.value),e.append("x12max",x12max.value),e.append("x18max",x18max.value),e.append("x36max",x36max.value),e.append("exteriormax",exteriormax.value),e.append("interiormax",interiormax.value),e.append("totalmax",totalmax.value),e.append("x2min",x2min.value),e.append("x3min",x3min.value),e.append("x6min",x6min.value),e.append("x7min",x7min.value),e.append("x9min",x9min.value),e.append("x12min",x12min.value),e.append("x18min",x18min.value),e.append("x36min",x36min.value),e.append("exteriormin",exteriormin.value),e.append("interiormin",interiormin.value),e.append("totalmin",totalmin.value),e.append("limitmax",limitmax.value),e.append("apuestamin",apuestamin.value),e.append("fecuenciafin",fecuenciafin.value),e.append("frecuenciaini",frecuenciaini.value),e.append("hiddenper",hiddenper.value),e.append("apuestaper",apuestaper.value),e.append("timeapuesta",timeapuesta.value),e.append("contrasoplado",contrasoplado.value),e.append("soplado",soplado.value);const a=`${window.location.protocol}//${window.location.hostname}/orders/add`,n=await fetch(a,{method:"POST",body:e});"ok"!==await n.json()||viewOrder()}async function viewOrder(){const e=`${window.location.protocol}//${window.location.hostname}/orders/viewOrder?quoteId=${quote_id.value}`,a=await fetch(e),n=await a.json();""===n||window.location.replace(`${window.location.protocol}//${window.location.hostname}/orders/view/${n.id}`)}generate.addEventListener("click",e=>{e.preventDefault(),0!=user.value?0!=machine.value?generateOrder():Swal.fire("Error","Escoge la maquina a la cual se hara el Mantenimiento","error"):Swal.fire("Error","No se puede Generar una orden de trabajo Sin tecnico!!","error")});