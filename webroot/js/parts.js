const file=document.querySelector("#file"),image=document.querySelector("#image"),serial=document.querySelector("#serial"),nameProduct=document.querySelector("#name"),anadir=document.querySelector("#anadir"),money=document.querySelector("#money"),value=document.querySelector("#value"),amount=document.querySelector("#amount");async function searchPart(e){const a=`${window.location.protocol}//${window.location.hostname}/parts/searchpart?serial=${e}`,r=await fetch(a);"error"===await r.json()?(Swal.fire({icon:"error",title:"Error",text:"La pieza ya fue registrada"}),nameProduct.disabled=!0,anadir.disabled=!0,money.disabled=!0,value.disabled=!0,amount.disabled=!0):(nameProduct.disabled=!1,anadir.disabled=!1,money.disabled=!1,value.disabled=!1,amount.disabled=!1)}serial.addEventListener("focusout",e=>{searchPart(e.target.value)}),image.addEventListener("change",()=>{const e=image.files;if(!e||!e.length)return void(file.src="");const a=e[0],r=URL.createObjectURL(a);file.src=r});